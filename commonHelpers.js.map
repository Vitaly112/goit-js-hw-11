{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = \"https://pixabay.com/api/\";\n\nfunction serviceSearchPhoto(seachImage = \"\") {\n    const API_KEY = \"43270282-4a5d06b91258db09a976f913c\";\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: seachImage,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: \"true\"\n    });\n\n    return fetch(`${BASE_URL}?${params}`)        \n            .then(response => {\n                if(!response.ok) {\n                    throw new Error(\"Ooooops!\");\n                }\n                return response.json();\n            });\n}\n\nexport { serviceSearchPhoto };","function createMarkup(arr) {\n    return arr.map(({\n        id, webformatURL, tags, largeImageURL, likes, views, comments, downloads\n        }) => `\n        <li class=\"gallery-item\" data-id=${id} heigth=\"200\">\n            <a class=\"gallery-link\" href=${largeImageURL}>\n                <img src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\">\n            </a>\n            <div class=\"gallery-word\">\n                <div class=\"gallery-opis\">\n                    <h2 class=\"title\">Likes</h2>\n                    <p  class=\"count\">${likes}</p>\n                </div>\n                <div class=\"gallery-opis\">\n                    <h2 class=\"title\">Views</h2>\n                    <p  class=\"count\">${views}</p>\n                </div>\n                <div class=\"gallery-opis\">\n                    <h2 class=\"title\">Comments</h2>\n                    <p  class=\"count\">${comments}</p>\n                </div>\n                <div class=\"gallery-opis\">\n                    <h2 class=\"title\">Downloads</h2>\n                    <p  class=\"count\">${downloads}</p>\n                </div>\n            </div>\n        </li>\n    `).join(\"\");\n}\n\nexport { createMarkup };","import { serviceSearchPhoto } from './js/pixabay-api.js';\nimport { createMarkup } from './js/render-functions.js';\nimport iziToast from \"izitoast\";   \nimport \"izitoast/dist/css/iziToast.min.css\"; \nimport SimpleLightbox from \"simplelightbox\"; \nimport \"simplelightbox/dist/simple-lightbox.min.css\"; \n\nconst searchForm = document.querySelector(\".js-search-form\");\nconst list = document.querySelector(\".js-list\");\nconst loader = document.querySelector(\".loader\");\nloader.style.display = 'none';\nsearchForm.addEventListener(\"submit\", handleSubmit);\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n    const { seachImage } = event.currentTarget.elements;\n    loader.style.display = 'block';\n    list.innerHTML = ''; \n\n    serviceSearchPhoto(seachImage.value)\n        .then(data => {\n            loader.style.display = 'none';\n\n            if (data.hits.length === 0) {\n                showErrorMessage(\"Sorry, there are no images matching your search query. Please try again!\");\n            } else {\n                renderImages(data.hits);\n                initializeLightbox();\n                searchForm.reset();\n            }\n        })\n        .catch(error => {\n            loader.style.display = 'none';\n            showErrorMessage(\"Oops! Something went wrong. Please try again later.\");\n        });\n}\n\nfunction showErrorMessage(message) {\n    iziToast.error({\n        title: 'Error',\n        titleColor: 'white',\n        backgroundColor: '#EF4040',\n        messageColor: '#FFFFFF',\n        message: message,\n        position: 'topRight',\n    });\n}\n\nfunction renderImages(images) {\n    list.insertAdjacentHTML(\"beforeend\", createMarkup(images));\n}\n\nfunction initializeLightbox() {\n    const lightBox = new SimpleLightbox('.js-list a', {\n        captions: true,\n        captionsData: 'alt',\n        captionPosition: 'bottom', \n    });\n    lightBox.refresh();\n}"],"names":["BASE_URL","serviceSearchPhoto","seachImage","API_KEY","params","response","createMarkup","arr","id","webformatURL","tags","largeImageURL","likes","views","comments","downloads","searchForm","list","loader","handleSubmit","event","data","showErrorMessage","renderImages","initializeLightbox","error","message","iziToast","images","SimpleLightbox"],"mappings":"6vBAAA,MAAMA,EAAW,2BAEjB,SAASC,EAAmBC,EAAa,GAAI,CACzC,MAAMC,EAAU,qCACVC,EAAS,IAAI,gBAAgB,CAC/B,IAAKD,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAII,CAAM,EAAE,EAC3B,KAAKC,GAAY,CACd,GAAG,CAACA,EAAS,GACT,MAAM,IAAI,MAAM,UAAU,EAE9B,OAAOA,EAAS,MAChC,CAAa,CACb,CCnBA,SAASC,EAAaC,EAAK,CACvB,OAAOA,EAAI,IAAI,CAAC,CACZ,GAAAC,EAAI,aAAAC,EAAc,KAAAC,EAAM,cAAAC,EAAe,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CACvE,IAAc;AAAA,2CAC6BP,CAAE;AAAA,2CACFG,CAAa;AAAA,4BAC5BF,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,wCAKdE,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,wCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,KAI5C,EAAE,KAAK,EAAE,CACd,CCrBA,MAAMC,EAAa,SAAS,cAAc,iBAAiB,EACrDC,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,OACvBF,EAAW,iBAAiB,SAAUG,CAAY,EAElD,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EACpB,KAAM,CAAE,WAAAlB,CAAY,EAAGkB,EAAM,cAAc,SAC3CF,EAAO,MAAM,QAAU,QACvBD,EAAK,UAAY,GAEjBhB,EAAmBC,EAAW,KAAK,EAC9B,KAAKmB,GAAQ,CACVH,EAAO,MAAM,QAAU,OAEnBG,EAAK,KAAK,SAAW,EACrBC,EAAiB,0EAA0E,GAE3FC,EAAaF,EAAK,IAAI,EACtBG,IACAR,EAAW,MAAK,EAEhC,CAAS,EACA,MAAMS,GAAS,CACZP,EAAO,MAAM,QAAU,OACvBI,EAAiB,qDAAqD,CAClF,CAAS,CACT,CAEA,SAASA,EAAiBI,EAAS,CAC/BC,EAAS,MAAM,CACX,MAAO,QACP,WAAY,QACZ,gBAAiB,UACjB,aAAc,UACd,QAASD,EACT,SAAU,UAClB,CAAK,CACL,CAEA,SAASH,EAAaK,EAAQ,CAC1BX,EAAK,mBAAmB,YAAaX,EAAasB,CAAM,CAAC,CAC7D,CAEA,SAASJ,GAAqB,CACT,IAAIK,EAAe,aAAc,CAC9C,SAAU,GACV,aAAc,MACd,gBAAiB,QACzB,CAAK,EACQ,QAAO,CACpB"}